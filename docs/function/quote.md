# 引用

- [引用を行う](#引用を行う)
- [引用を無視する](#引用を無視する)

----

citationは以下のドメインに対応しています。

- `discord.com`
- `discordapp.com`
- `canary.discord.com`
  - Discord Canary(アルファ版)でコピーすると使用されるドメイン
- `ptb.discord.com`
  - Discord PTB(テスト版)でコピーすると使用されるドメイン

## 引用を行う

citationがメッセージ送信権限及びメッセージ閲覧権限があるチャンネル、スレッドにてメッセージリンクを送信すると引用を行うことが出来ます。

> **Note**
> 
> パブリックスレッド(公開スレッド)内でメッセージリンクが送信されるとcitationは自動参加し、引用を行います。
> 前作の[MessageQuote](https://github.com/m2en/MessageQuote)のような自動参加機能はありません。

> **Warning**
> 
> プライベートスレッド(非公開スレッド)内でメッセージリンクを送信してもcitationはそのスレッド内のメッセージ閲覧権限が間接的にないため、引用は行えません。
> プライベートスレッド内で引用機能を使いたい場合はメンションして招待する必要があります。

----

以下のメッセージはcitationが引用しません。

- システムメッセージ
  - スレッド作成通知メッセージ
  - ギルドブースト通知メッセージ
  - メンバー参加通知メッセージ
  - スレッドメンバー除外通知メッセージ
  - スレッド名変更通知メッセージ

また以下の要素が含まれるメッセージは正しく引用できません。

- 音声ファイル
- スタンプ (Sticker)
- メッセージファイル

## 引用を無視する

`<>` で囲んだメッセージリンクはcitationは引用せず無視します。

> **Note**
> 
> `<>` はDiscord内でも使われている記号で、URLを `<>` で囲むと埋め込みを出さずに使用できます。
> citationはこの恩恵を受けることができ、暗黙的に引用を無視させることが出来ます。

## 引用を削除する (`v1.1.0`以降)

引用として送信されたEmbedには `🗑`(`:wastebasket:`) の絵文字がリアクションとして送信されます。

このリアクションを送信するとcitationはメッセージを削除します。

引用者ではない引用は無断で削除することはできません。(そのようなリアクションについてはcitationは却下します。)

citationが削除できるメッセージは以下のとおりです。

- citationが送信した全てのメッセージ
  - Application Command(Interaction API)のメッセージは削除されません。

citationが送信していないメッセージは削除されません。
